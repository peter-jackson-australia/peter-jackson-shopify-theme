{% comment %}
  Collection Description
{% endcomment %}

{{ 'section-main-collection-details.css' | asset_url | stylesheet_tag }}

{% if collection.metafields.custom.enable_collection_hero and collection.metafields.custom.collection_hero_image %}
  <style>
    @media screen and (min-width: 768px) {
      .collection-header {
        border-bottom: none !important;
        height: 56px !important;
      }
    }
  </style>
  <section class="collection-hero" aria-label="{{ collection.metafields.custom.collection_hero_header | default: collection.title | escape }}">
    {% if collection.metafields.custom.collection_hero_image %}
      {{
        collection.metafields.custom.collection_hero_image
        | image_url: width: 2000
        | image_tag: class: 'collection-hero__background', alt: collection.title, loading: 'eager'
      }}
    {% endif %}
    <div class="collection-hero__content">
      {% if collection.metafields.custom.collection_hero_header != blank %}
        <h2 class="heading--2xl">{{ collection.metafields.custom.collection_hero_header }}</h2>
      {% else %}
        <h2 class="heading--2xl">{{ collection.title }}</h2>
      {% endif %}

      {% if collection.description != blank %}
        <div class="collection-hero__description heading--l">
          {{ collection.description }}
        </div>
      {% endif %}
    </div>
  </section>
{% else %}
  <div class="collection-description__container">
    <div>
      <div class="collection-description__text body">
        {{ collection.description }}
      </div>
    </div>
  </div>
{% endif %}

{% schema %}
{
  "name": "Collection Description",
  "limit": 1,
  "tag": "section",
  "settings": [
    {
      "type": "paragraph",
      "content": "Display collection description with optional hero banner from collection metafields."
    }
  ],
  "enabled_on": {
    "templates": ["collection"]
  }
}
{% endschema %}
