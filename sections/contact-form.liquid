<!-- Contact Form Section -->

<style>
  .contact-form {
    height: calc(100dvh - var(--space-xl));
    display: flex;
    background-color: var(--white);
  }

  .contact-form__image-container {
    width: 50vw;
    height: 100%;
    overflow: hidden;
  }

  .contact-form__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .contact-form__form-container {
    width: 50vw;
    padding: var(--space-xl) var(--space-l);
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .contact-form__form-container--full-width {
    width: 100vw;
  }

  .contact-form__content {
    max-width: 500px;
    margin: 0 auto;
    width: 100%;
  }

  .contact-form__heading {
    margin-bottom: var(--space-m);
    color: var(--neutral-950);
  }

  .contact-form__description {
    margin-bottom: var(--space-xl);
    color: var(--neutral-600);
    white-space: pre-line;
  }

  .contact-form__form {
    display: flex;
    flex-direction: column;
    gap: var(--space-m);
  }

  .contact-form__input-group {
    display: flex;
    flex-direction: column;
  }

  .contact-form__label {
    margin-bottom: var(--space-3xs);
    color: var(--neutral-600);
  }

  .contact-form__input,
  .contact-form__textarea {
    border: 1px solid var(--neutral-200);
    padding: var(--space-2xs) var(--space-xs);
    color: var(--neutral-950);
    background-color: var(--white);
  }

  .contact-form__input:focus,
  .contact-form__textarea:focus {
    outline: none;
    border-color: var(--neutral-400);
  }

  .contact-form__textarea {
    min-height: 120px;
    resize: vertical;
  }

  .contact-form__button {
    width: 100%;
    height: var(--space-xl);
    background-color: var(--neutral-950);
    color: var(--white);
    border: none;
    padding: var(--space-xs) var(--space-s);
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: var(--space-s);
  }

  .contact-form__button:hover {
    background-color: var(--neutral-800);
  }

  @media (max-width: 768px) {
    .contact-form {
      flex-direction: column;
      height: auto;
      min-height: calc(100dvh - var(--space-xl));
    }

    .contact-form__image-container {
      width: 100vw;
      height: 40vh;
    }

    .contact-form__form-container {
      width: 100vw;
      padding: var(--space-l) var(--space-m);
    }

    .contact-form__form-container--full-width {
      width: 100vw;
    }
  }
</style>

<div class="contact-form">
  {% if section.settings.image %}
    <div class="contact-form__image-container">
      {{
        section.settings.image
        | image_url: width: 1000
        | image_tag: alt: section.settings.image.alt, class: 'contact-form__image'
      }}
    </div>
  {% endif %}

  <div class="contact-form__form-container {% unless section.settings.image %}contact-form__form-container--full-width{% endunless %}">
    <div class="contact-form__content">
      {% if section.settings.heading %}
        <h1 class="contact-form__heading heading--3xl">{{ section.settings.heading }}</h1>
      {% endif %}

      {% if section.settings.description %}
        <div class="contact-form__description body">{{ section.settings.description }}</div>
      {% endif %}

      {% form 'contact', class: 'contact-form__form' %}
        {% if form.posted_successfully? %}
          <div class="contact-form__success body">Thank you for your message. We'll get back to you soon!</div>
        {% endif %}

        {% if form.errors %}
          <div class="contact-form__errors">
            {% for field in form.errors %}
              <div class="contact-form__error body">
                {% if field == 'form' %}
                  {{ form.errors.messages[field] }}
                {% else %}
                  {{ form.errors.translated_fields[field] | capitalize }}
                  {{ form.errors.messages[field] }}
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endif %}

        <div class="contact-form__input-group">
          <label for="ContactForm-name" class="contact-form__label body">Name</label>
          <input
            type="text"
            id="ContactForm-name"
            name="contact[name]"
            class="contact-form__input"
            value="{% if form.name %}{{ form.name }}{% endif %}"
            required
          >
        </div>

        <div class="contact-form__input-group">
          <label for="ContactForm-email" class="contact-form__label body">Email</label>
          <input
            type="email"
            id="ContactForm-email"
            name="contact[email]"
            class="contact-form__input"
            value="{% if form.email %}{{ form.email }}{% endif %}"
            required
          >
        </div>

        <div class="contact-form__input-group">
          <label for="ContactForm-message" class="contact-form__label body">Message</label>
          <textarea
            id="ContactForm-message"
            name="contact[body]"
            class="contact-form__textarea"
            required
          >{% if form.body %}{{ form.body }}{% endif %}</textarea>
        </div>

        <button type="submit" class="contact-form__button body">Send Message</button>
      {% endform %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Get in Touch"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "We'd love to hear from you. Send us a message and we'll respond as soon as possible."
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    }
  ],
  "presets": [
    {
      "name": "Contact Form"
    }
  ]
}
{% endschema %}
