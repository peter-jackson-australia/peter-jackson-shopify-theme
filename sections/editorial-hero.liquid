{% comment %}
  Editorial Hero Section
{% endcomment %}

{{ 'section-editorial-hero.css' | asset_url | stylesheet_tag }}

{% assign section_id = section.id %}
{% assign show_top_border = section.settings.show_top_border %}
{% assign show_bottom_border = section.settings.show_bottom_border %}
{% assign leading_text = section.settings.leading_text %}
{% assign leading_text_animation = section.settings.leading_text_animation %}
{% assign anchor_id = section.settings.anchor_id %}
{% assign first_title = section.settings.first_title %}
{% assign first_title_level = section.settings.first_title_level %}
{% assign first_title_animation = section.settings.first_title_animation %}
{% assign animate_media = section.settings.animate_media %}
{% assign media_type = section.settings.media_type %}
{% assign image = section.settings.image %}
{% assign image_alt = image.alt %}
{% assign video = section.settings.video %}
{% assign video_poster = section.settings.video_poster %}
{% assign second_title = section.settings.second_title %}
{% assign second_title_level = section.settings.second_title_level %}
{% assign second_title_animation = section.settings.second_title_animation %}
{% assign description = section.settings.description %}
{% assign description_animation = section.settings.description_animation %}
{% assign cta_text = section.settings.cta_text %}
{% assign cta_link = section.settings.cta_link %}

<div
  id="editorial-hero-{{ section_id }}"
  class="editorial-hero"
  aria-label="Editorial hero section"
  style="
    {% if show_top_border %}border-top: 1px solid var(--neutral-50);{% endif %}
    {% if show_bottom_border %}border-bottom: 1px solid var(--neutral-50);{% endif %}
  "
>
  {% if leading_text != blank %}
    <div class="editorial-hero__leading-text body--uppercase {% if leading_text_animation != 'none' %}{{ leading_text_animation }}{% endif %}">
      {{ leading_text }}
    </div>
  {% endif %}

  <div
    {% if anchor_id != blank %}
      id="{{ anchor_id | downcase | replace: ' ', '-' }}-segment"
    {% endif %}
  >
    {% if first_title != blank %}
      <{{ first_title_level | default: 'h1' }} class="editorial-hero__first-title heading--4xl {% if first_title_animation != 'none' %}{{ first_title_animation }}{% endif %}">
        {{ first_title }}
      </{{ first_title_level | default: 'h1' }}>
    {% endif %}
  </div>

  <div class="editorial-hero__media-container {% if animate_media %}animate-container-cards-scroll{% endif %}">
    {% if media_type == 'image' %}
      {% if image != blank %}
        {{
          image
          | image_url: width: 700
          | image_tag: alt: image_alt
          | default: first_title,
            loading: 'eager',
            decoding: 'async',
            widths: '400, 500, 600, 700, 800, 1000, 1200, 1400',
            sizes: '(max-width: 400px) 400px, (max-width: 500px) 500px, (max-width: 600px) 600px, (max-width: 768px) 700px, 700px'
        }}
      {% endif %}
    {% elsif media_type == 'video' and video != blank %}
      <div>
        {% assign poster_url = video_poster | image_url %}
        {{
          video
          | video_tag:
            alt: image_alt,
            autoplay: true,
            loop: true,
            muted: true,
            controls: false,
            playsinline: true,
            poster: poster_url
        }}
      </div>
    {% endif %}
  </div>

  <div>
    {% if second_title != blank %}
      <{{ second_title_level | default: 'h1' }} class="editorial-hero__second-title heading--4xl {% if second_title_animation != 'none' %}{{ second_title_animation }}{% endif %}">
        {{ second_title }}
      </{{ second_title_level | default: 'h1' }}>
    {% endif %}
  </div>

  {% if description != blank %}
    <p class="editorial-hero__description body {% if description_animation != 'none' %}{{ description_animation }}{% endif %}">
      {{ description }}
    </p>
  {% endif %}

  {% if cta_text != blank and cta_link != blank %}
    <div class="body">
      <a href="{{ cta_link }}" class="editorial-hero__cta button body">
        {{ cta_text }}
      </a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Hero Editorial",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "anchor_id",
      "label": "Anchor ID (lowercase with hyphens)",
      "info": "Example: history or about-us"
    },
    {
      "type": "checkbox",
      "id": "show_top_border",
      "label": "Show top border",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_bottom_border",
      "label": "Show bottom border",
      "default": false
    },
    {
      "type": "text",
      "id": "leading_text",
      "label": "Editorial Hero Leading Text",
      "info": "Optional introductory text that appears above the titles"
    },
    {
      "type": "select",
      "id": "leading_text_animation",
      "label": "Leading Text Animation",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "animate-word-slide-up-scroll",
          "label": "Slide Up Words"
        },
        {
          "value": "animate-word-rotate-scroll",
          "label": "Rotate In Words"
        },
        {
          "value": "animate-paragraph-slide-up-scroll",
          "label": "Slide Up"
        }
      ],
      "default": "none"
    },
    {
      "type": "text",
      "id": "first_title",
      "label": "Editorial Hero First Title",
      "info": "Enter a single word for the first title",
      "default": "Discover"
    },
    {
      "type": "select",
      "id": "first_title_level",
      "label": "First Title Heading Level",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        }
      ],
      "default": "h1"
    },
    {
      "type": "select",
      "id": "first_title_animation",
      "label": "First Title Animation",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "animate-word-slide-up-scroll",
          "label": "Slide Up Words"
        },
        {
          "value": "animate-word-rotate-scroll",
          "label": "Rotate In Words"
        },
        {
          "value": "animate-paragraph-slide-up-scroll",
          "label": "Slide Up"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "media_type",
      "label": "Editorial Hero Media Type",
      "options": [
        {
          "value": "image",
          "label": "Image"
        },
        {
          "value": "video",
          "label": "Video"
        }
      ],
      "default": "image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Editorial Hero Image",
      "info": "Used when Media Type is set to Image"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Editorial Hero Video",
      "info": "Used when Media Type is set to Video. Will autoplay, loop, and be muted with no controls."
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Video Poster Image",
      "info": "Shown while video loads. Used when Media Type is set to Video"
    },
    {
      "type": "checkbox",
      "id": "animate_media",
      "label": "Animate Media",
      "default": false,
      "info": "Adds an animation to the image or video as it scrolls into view"
    },
    {
      "type": "text",
      "id": "second_title",
      "label": "Editorial Hero Second Title",
      "info": "Enter a single word for the second title",
      "default": "Collection"
    },
    {
      "type": "select",
      "id": "second_title_level",
      "label": "Second Title Heading Level",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        }
      ],
      "default": "h1"
    },
    {
      "type": "select",
      "id": "second_title_animation",
      "label": "Second Title Animation",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "animate-word-slide-up-scroll",
          "label": "Slide Up Words"
        },
        {
          "value": "animate-word-rotate-scroll",
          "label": "Rotate In Words"
        },
        {
          "value": "animate-paragraph-slide-up-scroll",
          "label": "Slide Up"
        }
      ],
      "default": "none"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Editorial Hero Description",
      "info": "Text that appears below the titles and media"
    },
    {
      "type": "select",
      "id": "description_animation",
      "label": "Description Animation",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "animate-word-slide-up-scroll",
          "label": "Slide Up Words"
        },
        {
          "value": "animate-word-rotate-scroll",
          "label": "Rotate In Words"
        },
        {
          "value": "animate-paragraph-slide-up-scroll",
          "label": "Slide Up"
        }
      ],
      "default": "none"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Editorial Hero CTA Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Editorial Hero CTA Link"
    }
  ],
  "presets": [
    {
      "name": "Hero Editorial",
      "category": "Hero",
      "settings": {
        "first_title": "Discover",
        "second_title": "Collection",
        "cta_text": "Shop Now"
      }
    }
  ],
  "enabled_on": {
    "templates": ["index", "page", "article", "blog"]
  }
}
{% endschema %}
