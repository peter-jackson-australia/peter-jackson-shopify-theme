{% comment %}
Auto-generated by Shogun-AB.
This file can be re-written at any time.
{% endcomment %}


{% if article %}
  {% assign content = article %}
{% elsif blog %}
  {% assign content = blog %}
{% elsif page %}
  {% assign content = page %}
{% elsif product %}
  {% assign content = product %}
{% elsif collection %}
  {% assign content = collection %}
{% elsif metaobject %}
  {% assign content = metaobject.system %}
{% endif %}

<script type="text/javascript">
  var $=Object.defineProperty;var Y=(h,u,m)=>u in h?$(h,u,{enumerable:!0,configurable:!0,writable:!0,value:m}):h[u]=m;var o=(h,u,m)=>Y(h,typeof u!="symbol"?u+"":u,m);(function(){"use strict";/*! js-cookie v3.0.5 | MIT */function h(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)n[i]=t[i]}return n}var u={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function m(n,e){function t(r,s,a){if(!(typeof document>"u")){a=h({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var d in a)a[d]&&(c+="; "+d,a[d]!==!0&&(c+="="+a[d].split(";")[0]));return document.cookie=r+"="+n.write(s,r)+c}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],a={},c=0;c<s.length;c++){var d=s[c].split("="),V=d.slice(1).join("=");try{var w=decodeURIComponent(d[0]);if(a[w]=n.read(V,w),r===w)break}catch{}}return r?a[r]:a}}return Object.create({set:t,get:i,remove:function(r,s){t(r,"",h({},s,{expires:-1}))},withAttributes:function(r){return m(this.converter,h({},this.attributes,r))},withConverter:function(r){return m(h({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var z=m(u,{path:"/"}),E=" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|(?<!cam)scan|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|\\||^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d\\s[\\w\\.-]+$|^mozilla/\\d\\.\\d\\s\\(compatible;?(?:\\s\\w+\\/\\d+\\.\\d+)?\\)$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|grab|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|onetrust|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|retriever|rexx;|rigor|rss\\b|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|xtate/",D=/bot|crawl|http|lighthouse|scan|search|spider/i,p;function S(){if(p instanceof RegExp)return p;try{p=new RegExp(E,"i")}catch{p=D}return p}function A(n){return!!n&&S().test(n)}const P=n=>{const e=window.innerWidth<768||window.outerWidth<768?"mobile":"desktop";return n===e},O=(n,e)=>{const t=!!e,i=String(n)==="true";return t===i},b="shg_geo_data";function k(n,e){const t=n-e;return Math.floor(t/(1e3*60*60*24))}function C(){if(new URLSearchParams(window.location.search).get("shg_geo_cache")==="false")return null;let e=null;try{const t=localStorage.getItem(b);if(t){const i=JSON.parse(t),r=Date.now();i.timestamp&&k(r,i.timestamp)<=7?e=i:localStorage.removeItem(b)}}catch(t){return console.error("Error reading geo data from cache:",t),localStorage.removeItem(b),null}return e}function R(n){let e=null;if(!n)return console.warn("Geo location API URL not configured."),e;try{const t=new XMLHttpRequest;t.open("GET",n,!1),t.send(null),t.status===200?(e=JSON.parse(t.responseText),e?(e.timestamp=Date.now(),localStorage.setItem(b,JSON.stringify(e))):(console.error("Geo API response parsed to null or undefined."),e=null)):console.error(`Geo API request failed with status: ${t.status}`)}catch(t){console.error("Error fetching geo data from API:",t)}return e}function M(n){let e=null;try{const t=C();t?(e=t,console.debug("Loaded geo data from cache:",e)):(e=R(n),console.debug("Fetched geo data from API:",e))}catch(t){console.error("Error initializing geo data:",t),e=null}return e}const F=(n,e)=>{const{type:t,countryCode:i,toponymName:r,parentName:s}=n||{},{country:a,region:c,city:d}=e||{};if(!t||!i||!e)return!1;switch(t){case"country":return a===i;case"region":return c===r&&a===i;case"city":return d===r&&c===s&&a===i;default:return console.debug("Unknown location type:",t),!1}},B=n=>typeof n!="string"?!1:document.referrer.toLowerCase().includes(n.toLowerCase()),L=n=>typeof n!="string"?!1:window.location.href.toLowerCase().includes(n.toLowerCase()),N=(n,e,t)=>{if(!e)return!1;const{expectedTimeInMillseconds:i,withinOrAfter:r}=n||{};if(typeof i!="number"||!r)return!1;const s=e.first_visit_timestamp;return r==="within"?s+i>t:s+i<t},U=(n,e,t)=>e?t-e.first_visit_timestamp<18e5===n:n===!0;function G(n,e){return n===e}const g=class g{constructor(e){o(this,"visitorDetails",null);o(this,"currentTime");o(this,"geoLocationApi");o(this,"customerId");o(this,"isB2B");o(this,"internalGeoData");o(this,"isGeoDataInitialized",!1);o(this,"checkers",{device:e=>P(e),logged_in:(e,t)=>O(e,this.customerId),new_visitor:(e,t)=>U(e,t.visitorDetails,t.currentTime),returning_visitor:(e,t)=>N(e,t.visitorDetails,t.currentTime),url_contains:e=>L(e),referrer_contains:e=>B(e),location:(e,t)=>F(e,t.geoData),b2b:e=>G(e,this.isB2B)});this.geoLocationApi=e.geoLocationApi,this.customerId=e.customerId,this.isB2B=e.isB2B,this.currentTime=Date.now(),this.initializeVisitorDetails()}initializeVisitorDetails(){var e;try{const t=localStorage.getItem(g.VISITOR_DETAILS_KEY);t&&(this.visitorDetails=JSON.parse(t),typeof((e=this.visitorDetails)==null?void 0:e.first_visit_timestamp)!="number"&&(console.warn("Invalid visitor details found in storage, resetting."),this.visitorDetails=null)),this.visitorDetails===null?(console.debug("Initializing new visitor details."),this.visitorDetails={first_visit_timestamp:this.currentTime},localStorage.setItem(g.VISITOR_DETAILS_KEY,JSON.stringify(this.visitorDetails))):console.debug("Loaded visitor details from storage:",this.visitorDetails)}catch(t){console.error("Error initializing visitor details:",t),localStorage.removeItem(g.VISITOR_DETAILS_KEY),this.visitorDetails={first_visit_timestamp:this.currentTime},localStorage.setItem(g.VISITOR_DETAILS_KEY,JSON.stringify(this.visitorDetails))}}check(e){const t=this.checkers[e.audience_type];if(!t)return console.warn(`Unknown audience type: ${e.audience_type}`),!1;e.audience_type==="location"&&!this.isGeoDataInitialized&&(console.debug("Location check required, initializing geoData..."),this.internalGeoData=M(this.geoLocationApi),this.isGeoDataInitialized=!0,console.debug("GeoData initialization result:",this.internalGeoData));const i={geoData:this.internalGeoData===void 0?null:this.internalGeoData,visitorDetails:this.visitorDetails,currentTime:this.currentTime};try{const r=!!t(e.value,i);return console.debug("Audience check result:",{audience:e,internalContext:i,matched:r}),e.condition==="is_not"?!r:r}catch(r){return console.error("Error during audience check:",{audience:e,internalContext:i,error:r}),!1}}};o(g,"VISITOR_DETAILS_KEY","_shg_ab_visitor_details");let y=g;class x{constructor(e,t){this.pageType=e,this.pageId=t}shogunLoaded(e){const t=()=>{var i,r;try{(r=(i=window.Shopify)==null?void 0:i.analytics)!=null&&r.publish?(console.debug("Firing shogun:load event",e),window.Shopify.analytics.publish("shogun:load",e)):console.warn("Shopify analytics not available to publish shogun:load event.")}catch(s){console.error("Error publishing shogun:load event:",s)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}trackVariantImpression(e,t){const i={page_type:this.pageType,page_id:this.pageId,app_type:t=="ab_test"?"ab_testing":"personalization"};i.optimization_id=e.optimization_id,i.variant_id=e.id,console.debug(`Tracking variant impression: optimization=${e.optimization_id}, variant=${e.id}`),this.shogunLoaded(i)}}const v=class v{constructor(){o(this,"ran",!1)}removePreviewBarIframe(){console.debug("Setting up preview bar iframe removal");const e=()=>{v.PREVIEW_BAR_IFRAME_IDS.forEach(t=>{const i=document.getElementById(t);i&&(console.debug(`Removing preview bar iframe with id: ${t}`),i.remove())})};e(),document.addEventListener("DOMContentLoaded",()=>{console.debug("DOM loaded, setting up mutation observer for preview bar");const t=new MutationObserver(i=>{i.forEach(r=>{r.addedNodes.forEach(s=>{if(s.nodeType===Node.ELEMENT_NODE){const a=s;v.PREVIEW_BAR_IFRAME_IDS.includes(a.id)&&(console.debug(`Detected and removing preview bar iframe with id: ${a.id} via observer`),a.remove())}})})});if(document.body)t.observe(document.body,{childList:!0,subtree:!0});else{const i=new MutationObserver(()=>{document.body&&(t.observe(document.body,{childList:!0,subtree:!0}),e(),i.disconnect())});i.observe(document.documentElement,{childList:!0})}e()})}run(){this.ran||(this.removePreviewBarIframe(),this.ran=!0)}};o(v,"PREVIEW_BAR_IFRAME_IDS",["preview-bar-iframe","PBarNextFrameWrapper"]);let I=v;class f{constructor(e){o(this,"optimization");o(this,"matchingVariant");o(this,"selectedVariant");o(this,"isFirstAssignment");this.optimization=e.optimization,this.matchingVariant=e.matchingVariant,this.selectedVariant=e.selectedVariant,this.isFirstAssignment=e.isFirstAssignment}current(){return this.matchingVariant.id===this.selectedVariant.id}}class K{constructor(e){this.trackingService=e}extractViewParamFromFullTemplateKey(e){const t=e.split("/").pop().split(".");return t.slice(1,t.length-1).join(".")}async handleRedirect(e){const t=new URL(window.location.href),i=new URL(window.location.href);if(e.optimization.scope==="theme")i.searchParams.set("preview_theme_id",e.selectedVariant.config.theme_id);else if(e.optimization.scope==="url_redirect")i.pathname=e.selectedVariant.config.path;else{const r=this.extractViewParamFromFullTemplateKey(e.selectedVariant.config.full_template_key);i.searchParams.set("view",r)}t.toString()===i.toString()?this.hideViewParam():(i.searchParams.delete("cache"),console.debug("Redirecting to",i.toString()),window.location.replace(i))}hideViewParam(){const e=new URL(window.location.href);e.searchParams.delete("view"),window.history.replaceState({},"",e.toString())}dispatch(e){const t=e.find(r=>r.matchingVariant.id!==r.selectedVariant.id);if(console.debug("redirectingSelection",t),t&&(t.optimization.scope!=="url_redirect"||t.isFirstAssignment===!0||t.optimization.config.permanent_redirect===!0))return this.handleRedirect(t);const i=new Set(e.map(r=>r.optimization.scope));(i.has("template")||i.has("page"))&&this.hideViewParam(),e.filter(r=>r.current()).forEach(r=>{this.trackingService.trackVariantImpression(r.selectedVariant,r.optimization.type)})}}const l=class l{constructor(e){o(this,"cacheEnabled");o(this,"optimizations");o(this,"currentThemeId");o(this,"pageId");o(this,"pageType");o(this,"currentPartialTemplateKey");o(this,"distributionMethod");o(this,"sessionId");o(this,"cachedOptimizations");o(this,"audienceChecker");o(this,"personalizations");o(this,"abTests");o(this,"dispatcher");o(this,"currentPath");o(this,"themeTestHandler");o(this,"inAudience",e=>this.audienceChecker.check(e));this.currentThemeId=e.currentThemeId;const t=e.optimizations||[];e.defaultThemeId!==this.currentThemeId?this.optimizations=t.filter(c=>c.variants.some(d=>d.config.theme_id===this.currentThemeId)):this.optimizations=t,this.personalizations=this.optimizations.filter(c=>c.type==="personalization"),this.abTests=this.optimizations.filter(c=>c.type==="ab_test"),this.distributionMethod=e.distributionMethod||l.DEFAULT_DISTRIBUTION_METHOD,this.pageId=e.pageId,this.pageType=e.pageType,this.cacheEnabled=e.cacheEnabled;const i=this.pageType==="metaobject"?"templates/metaobject/":"templates/",r=[e.templateName,e.templateSuffix].filter(Boolean).join(".");this.currentPartialTemplateKey=i+r,this.currentPath=window.location.pathname,this.sessionId=e.sessionIdOverride||z.get(l.SHOPIFY_SESSION_COOKIE)||"",this.cachedOptimizations=JSON.parse(localStorage.getItem(l.OPTIMIZATIONS_CACHE_KEY)||"{}"),this.audienceChecker=new y(e);const s=new x(this.pageType,this.pageId),a=new I;this.themeTestHandler=a,this.dispatcher=new K(s)}getOptimizationPriority(e){return{theme:1,template:2,page:3,url_redirect:4}[e.scope]}sortMatches(e){return[...e].sort((t,i)=>{const r=this.getOptimizationPriority(t.optimization),s=this.getOptimizationPriority(i.optimization);return r===s?0:r-s})}audienceMatchesCurrentVisitor(e){const t=e.audiences||[];return t.length===0?!0:e.audiences_condition==="any"?t.some(this.inAudience):t.every(this.inAudience)}configAudiencesMatch(e,t){const i=e.audiences||[],r=t.audiences||[];if(i.length!==r.length)return!1;const s=i.map(c=>JSON.stringify(c)),a=r.map(c=>JSON.stringify(c));return!(s.some(c=>!a.includes(c))||a.some(c=>!s.includes(c))||i.length>1&&e.audiences_condition!==t.audiences_condition)}getCachedVariant(e){if(!this.cacheEnabled)return;const t=this.cachedOptimizations[e.id];if(t)return e.variants.find(i=>i.id===t)}setCachedVariant(e,t){this.cachedOptimizations[e.id]=t.id,console.debug("setCachedVariant",e.id,t.id),localStorage.setItem(l.OPTIMIZATIONS_CACHE_KEY,JSON.stringify(this.cachedOptimizations))}extractPartialTemplateKeyFromFullTemplateKey(e){if(!e)return;const t=e.split(".");return t.length<2?e:t.slice(0,-1).join(".")}matchesAnyAttributeOfCurrentPage(e,t){const i=e.config.page_id,r=e.config.page_type,s=this.extractPartialTemplateKeyFromFullTemplateKey(t.config.full_template_key),a=t.config.theme_id,c=t.config.path,d=s===this.currentPartialTemplateKey,V=a===this.currentThemeId,w=c===this.currentPath,T=!r||r===this.pageType,j=!i||i===this.pageId;return V||d&&(T&&j)||w}getMatchingVariant(e,t=void 0){var s;const i=e.config,r=(s=t==null?void 0:t.selectedVariant)==null?void 0:s.config;for(const a of e.variants){if(!this.matchesAnyAttributeOfCurrentPage(e,a))continue;const c=e.type==="ab_test"?e.config:a.config;if(this.audienceMatchesCurrentVisitor(c)&&!(r&&!this.configAudiencesMatch(i,r)))return a}}getPersonalizationMatches(){const e=[];for(const t of this.personalizations){const i=this.getMatchingVariant(t);i&&e.push({optimization:t,matchingVariant:i})}return e}getPrioritizedNonDefaultPersonalizationSelection(){const e=this.getPersonalizationMatches();if(e.length===0)return;const t=this.sortMatches(e);for(const i of t){const s=i.optimization.variants.sort((a,c)=>a.position-c.position).find(a=>!a.config.original&&this.audienceMatchesCurrentVisitor(a.config));if(s)return new f({optimization:i.optimization,matchingVariant:i.matchingVariant,selectedVariant:s})}}getDefaultPersonalizationSelectionsForImpressionTracking(e){return this.getPersonalizationMatches().filter(r=>r.matchingVariant.config.original&&r.optimization.id!==(e==null?void 0:e.optimization.id)).map(r=>new f({optimization:r.optimization,matchingVariant:r.matchingVariant,selectedVariant:r.matchingVariant}))}getCryptoRandom(){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]/2**32}getRandomInt(e){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]%e}getRandomVariantForOptimization(e){const t=this.getCryptoRandom();let i=0;for(const s of e.variants){const a=(s.config.percentage||0)/100,c=i+a;if(t>=i&&t<c)return s;i=c}const r=this.getRandomInt(e.variants.length);return e.variants[r]}hasAnyCachedVariants(){return this.cacheEnabled===!1?!1:this.abTests.some(e=>!!this.cachedOptimizations[e.id])}getGreedySelections(e){const t=e[Math.floor(Math.random()*e.length)],i=t.cachedVariant||this.getRandomVariantForOptimization(t.optimization);return[new f({optimization:t.optimization,matchingVariant:t.matchingVariant,selectedVariant:i,isFirstAssignment:!t.cachedVariant})]}userBin(){const e=this.sessionId;let t=0;if(!e)return 0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)%l.DEFAULT_NUMBER_OF_BINS}getVariantForUserBin(){const e=this.userBin(),t=this.abTests.flatMap(r=>r.variants);let i=0;for(const r of t)if(i+=l.DEFAULT_NUMBER_OF_BINS*(r.traffic_percentage||0)/100,e<i)return r;return null}getEvenSelections(e){const t=this.getVariantForUserBin();if(!t)return[];const i=e.find(r=>r.optimization.variants.some(s=>s.id===t.id));return i?[new f({optimization:i.optimization,matchingVariant:i.matchingVariant,selectedVariant:t,isFirstAssignment:!i.cachedVariant})]:[]}getAbTestMatches(e){const t=[];return this.abTests.forEach(i=>{const r=this.getMatchingVariant(i,e);if(r){const s=this.getCachedVariant(i);(r.config.original||s)&&t.push({optimization:i,matchingVariant:r,cachedVariant:s})}}),t}getAbTestSelections(e){const t=this.getAbTestMatches(e);if(t.length===0)return[];const i=t.find(r=>!!r.cachedVariant);if(!i&&this.hasAnyCachedVariants())return[];if(i)return[new f({optimization:i.optimization,matchingVariant:i.matchingVariant,selectedVariant:i.cachedVariant,isFirstAssignment:!1})];switch(this.distributionMethod){case"greedy":return this.getGreedySelections(t);case"even":return this.getEvenSelections(t);default:throw new Error(`Unknown distribution method: ${this.distributionMethod}`)}}isBot(){const e=navigator.userAgent,t=A(e);return console.debug("Bot testing with user agent:",e),t}run(){if(this.isBot()){console.debug("Bot traffic detected, optimizer disabled");return}const e=this.getPrioritizedNonDefaultPersonalizationSelection(),t=this.getAbTestSelections(e);t.forEach(r=>{this.setCachedVariant(r.optimization,r.selectedVariant)});const i=[];e&&i.push(e),i.push(...t),i.push(...this.getDefaultPersonalizationSelectionsForImpressionTracking(e)),localStorage.getItem("_shg_is_merchant")||this.themeTestHandler.run(),i.length!==0&&this.dispatcher.dispatch(i)}};o(l,"DEFAULT_NUMBER_OF_BINS",1e4),o(l,"DEFAULT_DISTRIBUTION_METHOD","greedy"),o(l,"OPTIMIZATIONS_CACHE_KEY","_shg_ab_optimizations_cache"),o(l,"SHOPIFY_SESSION_COOKIE","_shopify_s");let _=l;window.ShogunOptimizer=_})();

</script>

<script type="text/javascript">
  ;(function() {
    if (typeof ShogunOptimizer === 'undefined') {
      console.error("ShogunOptimizer is not defined. Please ensure the optimizer script is properly loaded.");
      return;
    }

    const designMode = {{ request.design_mode | default: false }};
    if (designMode) {
      console.debug("Design mode is enabled, skipping optimizer initialization");
      return;
    }

    // If the referrer url is the Shopify admin url, then set a local storage shg_is_merchant flag to true
    // This is used to remove the preview bar from the page for shoppers
    const referrer = document.referrer
    if (!localStorage.getItem('_shg_is_merchant') && ((referrer.includes('admin.shopify.com') || referrer.includes('shogun')))) {
      console.debug('Setting shg_is_merchant to true')
      localStorage.setItem('_shg_is_merchant', 'true')
    }

    const urlParams = new URLSearchParams(window.location.search);
    const optimizationDisabled = urlParams.get('shg') === "false";

    if (optimizationDisabled) {
      console.debug("Optimization is disabled, skipping optimizer initialization");
      return;
    }

    const shopMetafieldConfig = {{ shop.metafields.shgabc.optimizations }} || {};
    const optimizationsData = shopMetafieldConfig.expires_at > Date.now() ? (shopMetafieldConfig.optimizations || []) : [];

    const optimizerConfig = {
      optimizations: optimizationsData,
      distributionMethod: urlParams.get('shgMethod') || shopMetafieldConfig.method,
      defaultThemeId: String(shopMetafieldConfig.default_theme_id),
      currentThemeId: "179206914416",
      pageId: "{{ content.id }}",
      pageType: "{% if article %}article{% elsif blog %}blog{% elsif page %}page{% elsif product %}product{% elsif collection %}collection{% elsif metaobject %}metaobject{% else %}homepage{% endif %}",
      templateName: "{{ template.name }}",
      templateSuffix: "{{ template.suffix }}",
      customerId: "{{ customer.id }}",
      isB2B: {{ customer.b2b? | default: false }},
      cacheEnabled: urlParams.get('cache') !== "false",
      sessionIdOverride: urlParams.get('shgSessionId'),
      geoLocationApi: "https://ipinfo.io/json?token=f2ae3a557d807b"
    };

    console.debug("Initializing ShogunOptimizer with config:", optimizerConfig);
    const optimizer = new ShogunOptimizer(optimizerConfig);
    optimizer.run();
  })();
</script>
