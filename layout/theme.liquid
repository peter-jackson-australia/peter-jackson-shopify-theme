<!doctype html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {%- unless settings.favicon == blank -%}
      <link rel="shortcut icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endunless -%}

    <title>
      {{ page_title }}
      {% if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif %}
      {% if current_page != 1 %} &ndash; Page {{ current_page }}{% endif %}
      {% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    <link rel="canonical" href="{{ canonical_url }}">

    {{ 'theme.css' | asset_url | stylesheet_tag: preload: true }}
    <script src="{{ 'theme.js' | asset_url }}" defer></script>
    <script src="{{ 'quicklink.umd.js' | asset_url }}" defer></script>
    <script src="{{ 'predictive-search.js' | asset_url }}" defer></script>

    {% render 'schemas' %}
    {% render 'social-meta-tags' %}
    {{ content_for_header }}
  </head>

  <body>
    {% comment %}
      Skip to content accessibility link
    {% endcomment %}
    <a href="#main-content" class="skip-to-content desktop">
      <span>Skip to content</span>
    </a>

    {% sections 'header-group' %}

    {% liquid
      unless template == 'index'
        render 'breadcrumb'
      endunless
    %}

    <main id="main-content">
      {{ content_for_layout }}
    </main>

    <footer class="section-wrap">
      <div class="container">
        {% sections 'footer-group' %}
      </div>
    </footer>

    {% liquid
      if settings.newsletter_popup
        render 'newsletter-popup'
      endif
    %}
    {% comment %}
      Quicklink provides faster subsequent page-loads by prefetching in-viewport links during idle time
    {% endcomment %}
    <script>
      window.addEventListener('load', () => {
        quicklink.listen();
      });
    </script>
    <div
      x-data="{ open: false }"
      class="alpine-test-component"
      style="margin: 20px 0; padding: 20px; border: 1px solid #eee; border-radius: 8px;"
    >
      <button
        @click="open = !open"
        class="button"
        style="padding: 10px 15px; background-color: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer;"
      >
        Toggle Message
      </button>

      <div
        x-show="open"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform scale-90"
        x-transition:enter-end="opacity-100 transform scale-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100 transform scale-100"
        x-transition:leave-end="opacity-0 transform scale-90"
        style="margin-top: 15px; padding: 15px; background-color: #f3f4f6; border-radius: 4px;"
      >
        <p>Alpine.js is working correctly! ðŸŽ‰</p>
      </div>
    </div>
    {% comment %}
      Alpine is a rugged, minimal tool for composing behavior directly in your markup. Think of it like jQuery for the modern web.
    {% endcomment %}
    <script type="module">
      import Alpine from "{{ 'alpine.min.js' | asset_url }}";
      window.Alpine = Alpine;
      document.addEventListener('DOMContentLoaded', () => {
        Alpine.start();
      });
    </script>
    <script nomodule defer src="{{ 'alpine.min.js' | asset_url }}"></script>
  </body>
</html>
